<!DOCTYPE html>
<html lang="en-us">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="theme" content="hugo-academic">
  <meta name="generator" content="Hugo 0.53" />
  <meta name="author" content="Huang Jirong">
  <meta name="description" content="Data Scientist and Quantitative Investor and Trader">

  
  <link rel="alternate" hreflang="en-us" href="/post/plans-for-trend-following-strategy-in-futures-using-binary-forecast/">

  
  


  

  
  
  
  
    
  
  
    
    
      
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
      
    
  
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha512-6MXa8B6uaO18Hid6blRMetEIoPqHf7Ux1tnyIQdpt9qI5OACx7C+O3IVTr98vwGnlcg0LOLa02i9Y1HpVhlfiw==" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.1/css/academicons.min.css" integrity="sha512-NThgw3XKQ1absAahW6to7Ey42uycrVvfNfyjqcFNgCmOCQ5AR4AO0SiXrN+8ZtYeappp56lk1WtvjVmEa+VR6A==" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha512-SfTiTlX6kk+qitfevl/7LibUOeJWlt9rbyDn92a1DqWOw9vWG2MFoays0sgObmWazO5BQPiFucnnEAjpAB+/Sw==" crossorigin="anonymous">
  
  
  
  
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Montserrat:400,700%7cRoboto:400,400italic,700%7cRoboto&#43;Mono">
  
  <link rel="stylesheet" href="/styles.css">
  

  
    <script>
      window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
      ga('create', 'UA-116737154-1', 'auto');
      ga('require', 'eventTracker');
      ga('require', 'outboundLinkTracker');
      ga('require', 'urlChangeTracker');
      ga('send', 'pageview');
    </script>
    <script async src="//www.google-analytics.com/analytics.js"></script>
    
    <script async src="https://cdnjs.cloudflare.com/ajax/libs/autotrack/2.4.1/autotrack.js" integrity="sha512-HUmooslVKj4m6OBu0OgzjXXr+QuFYy/k7eLI5jdeEy/F4RSgMn6XRWRGkFi5IFaFgy7uFTkegp3Z0XnJf3Jq+g==" crossorigin="anonymous"></script>
    
  

  
  <link rel="alternate" href="/index.xml" type="application/rss+xml" title="Jirong&#39;s sandbox">
  <link rel="feed" href="/index.xml" type="application/rss+xml" title="Jirong&#39;s sandbox">
  

  <link rel="manifest" href="/site.webmanifest">
  <link rel="icon" type="image/png" href="/img/icon.png">
  <link rel="apple-touch-icon" type="image/png" href="/img/icon-192.png">

  <link rel="canonical" href="/post/plans-for-trend-following-strategy-in-futures-using-binary-forecast/">

  <meta property="twitter:card" content="summary_large_image">
  
  <meta property="og:site_name" content="Jirong&#39;s sandbox">
  <meta property="og:url" content="/post/plans-for-trend-following-strategy-in-futures-using-binary-forecast/">
  <meta property="og:title" content="Plans for trend following strategy in futures using continuous forecast | Jirong&#39;s sandbox">
  <meta property="og:description" content="">
  <meta property="og:locale" content="en-us">
  
  <meta property="article:published_time" content="2020-10-20T11:50:49&#43;08:00">
  
  <meta property="article:modified_time" content="2020-10-20T11:50:49&#43;08:00">
  

  

  <title>Plans for trend following strategy in futures using continuous forecast | Jirong&#39;s sandbox</title>

</head>
<body id="top" data-spy="scroll" data-target="#toc" data-offset="71" >

<nav class="navbar navbar-default navbar-fixed-top" id="navbar-main">
  <div class="container">

    
    <div class="navbar-header">
      
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
              data-target=".navbar-collapse" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      
      <a class="navbar-brand" href="/">Jirong&#39;s sandbox</a>
    </div>

    
    <div class="collapse navbar-collapse">

      
      
      <ul class="nav navbar-nav navbar-right">
        

        

        
          
        

        <li class="nav-item">
          <a href="/#about">
            
            <span>Home</span>
            
          </a>
        </li>

        
        

        

        
          
        

        <li class="nav-item">
          <a href="/#posts">
            
            <span>Posts</span>
            
          </a>
        </li>

        
        

        

        
          
        

        <li class="nav-item">
          <a href="/#projects">
            
            <span>Projects</span>
            
          </a>
        </li>

        
        

        

        
          
        

        <li class="nav-item">
          <a href="/goals/goals">
            
            <span>Personal goals</span>
            
          </a>
        </li>

        
        

        

        
          
        

        <li class="nav-item">
          <a href="/subscribe/subscribe">
            
            <span>Subscribe Here</span>
            
          </a>
        </li>

        
        
      

      
      </ul>

    </div>
  </div>
</nav>


<article class="article" itemscope itemtype="http://schema.org/Article">

  


  <div class="article-container">
    <div class="article-inner">
      <h1 itemprop="name">Plans for trend following strategy in futures using continuous forecast</h1>

      

<div class="article-metadata">

  <span class="article-date">
    
    <time datetime="2020-10-20 11:50:49 &#43;0800 &#43;08" itemprop="datePublished dateModified">
      Oct 20, 2020
    </time>
  </span>
  <span itemscope itemprop="author publisher" itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Huang Jirong">
  </span>

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    5 min read
  </span>
  

  
  
  <span class="middot-divider"></span>
  <a href="/post/plans-for-trend-following-strategy-in-futures-using-binary-forecast/#disqus_thread"></a>
  

  
  
  
  <span class="middot-divider"></span>
  <span class="article-categories">
    <i class="fa fa-folder"></i>
    
    <a href="/categories/framework">framework</a
    >, 
    
    <a href="/categories/quant">quant</a
    >, 
    
    <a href="/categories/investing">investing</a
    >
    
  </span>
  
  

  
  
<div class="share-box" aria-hidden="true">
  <ul class="share">
    <li>
      <a class="twitter"
         href="https://twitter.com/intent/tweet?text=Plans%20for%20trend%20following%20strategy%20in%20futures%20using%20continuous%20forecast&amp;url=%2fpost%2fplans-for-trend-following-strategy-in-futures-using-binary-forecast%2f"
         target="_blank" rel="noopener">
        <i class="fa fa-twitter"></i>
      </a>
    </li>
    <li>
      <a class="facebook"
         href="https://www.facebook.com/sharer.php?u=%2fpost%2fplans-for-trend-following-strategy-in-futures-using-binary-forecast%2f"
         target="_blank" rel="noopener">
        <i class="fa fa-facebook"></i>
      </a>
    </li>
    <li>
      <a class="linkedin"
         href="https://www.linkedin.com/shareArticle?mini=true&amp;url=%2fpost%2fplans-for-trend-following-strategy-in-futures-using-binary-forecast%2f&amp;title=Plans%20for%20trend%20following%20strategy%20in%20futures%20using%20continuous%20forecast"
         target="_blank" rel="noopener">
        <i class="fa fa-linkedin"></i>
      </a>
    </li>
    <li>
      <a class="weibo"
         href="http://service.weibo.com/share/share.php?url=%2fpost%2fplans-for-trend-following-strategy-in-futures-using-binary-forecast%2f&amp;title=Plans%20for%20trend%20following%20strategy%20in%20futures%20using%20continuous%20forecast"
         target="_blank" rel="noopener">
        <i class="fa fa-weibo"></i>
      </a>
    </li>
    <li>
      <a class="email"
         href="mailto:?subject=Plans%20for%20trend%20following%20strategy%20in%20futures%20using%20continuous%20forecast&amp;body=%2fpost%2fplans-for-trend-following-strategy-in-futures-using-binary-forecast%2f">
        <i class="fa fa-envelope"></i>
      </a>
    </li>
  </ul>
</div>


  

</div>


      <div class="article-style" itemprop="articleBody">
        

<h2 id="trend-following-strategy-in-futures-using-non-binary-forecasts">Trend following strategy in futures using non binary forecasts</h2>

<h3 id="project-motivation">Project motivation</h3>

<p>As David Ricardo, a British economist in the 19th century once said, ‘cut short your losses and let your profits trend’ allude to the point that trend following as a profitable strategy could exist even back then.</p>

<p>Having read AQR’s papers on the Time Series Momentum (TSMOM, I am keen to explore this topic in the futures space (Moskowitz, T. J., Ooi, Y. H., &amp; Pedersen, L. H. (2012)). This strategy has been explored by the Quantopian community and the source code &amp; dataset could be found in this github repository (<a href="https://github.com/quantopian/research_public/tree/master/advanced_sample_analyses/TSMOM" target="_blank">https://github.com/quantopian/research_public/tree/master/advanced_sample_analyses/TSMOM</a>).</p>

<p>Besides AQR papers, I have also followed closely the work of Robert Carver, an ex-MAN AHL quant who specialized in the space of intermediate to long term trend-following futures strategies.</p>

<h3 id="dataset">Dataset</h3>

<p>Futures dataset across 4 asset classes: Indices, Bonds, Currencies, Commodites</p>

<ul>
<li>Quantopian datset up till 2016
Presumably stiched through backward, forward, proportional adjusted methodology</li>
<li>CHRIS Wiki Continuous Futures dataset in Quandl (<a href="https://www.quandl.com/data/CHRIS-Wiki-Continuous-Futures" target="_blank">https://www.quandl.com/data/CHRIS-Wiki-Continuous-Futures</a>)
Datasets are stitched with continuous raw non-adjusted prices but not backward, forward, proportional adjusted. There are varaitions of front contract, second contract, third contract, etc.
To use it for data modelling purposes, I would have to assume that rollover is required on certain date (through volume or open interest)</li>
<li>Steven Analytics Futures dataset in Quandl (<a href="https://www.quandl.com/databases/SCF/data" target="_blank">https://www.quandl.com/databases/SCF/data</a>)
Stiched datasets with variations of backward, forward, proportional adjustment
Behind paywall</li>
</ul>

<h3 id="data-mining">Data mining</h3>

<p>In AQR papers, the authors experimented with fixed lookback periods of 1 year and deciding on the trading signal for the next month i.e. if price of an asset increase over 1 year period, the trading signal for next month would be long. Reverse holds when price of an asset decreased. Position of each asset is based on lookback exponential standard deviation of daily returns with annualized volatility of 40%. Agglomerated to a portfolio, the annualized standard deviation is closer to 12% with approximate sharpe of 1.0 over 30 years.</p>

<p>What I intend to carry out in this research paper instead is something closer to Robert Carver’s methdology,</p>

<ol>
<li>First, compute 3 types of continuous forecasts based on the following,</li>
</ol>

<ul>
<li><p>Exponential moving averages (e.g. 8-32, 16-64, 32-138)</p>

<ul>
<li>Raw forecast: Take the difference between pair of moving averages</li>
<li>Divide raw forecast by instrument-risk (volatility of instrument in price unit) to get a risk adjusted forecast.</li>
</ul></li>

<li><p>Breakouts</p>

<ul>
<li>Raw Forecast, scaled price in range: (Pt – Ravg/med N) / (RmaxN – RminN)</li>
<li>Divide raw forecast by instrument-risk (volatility of instrument in price unit) to get a risk adjusted forecast.</li>
</ul></li>

<li><p>Carry strategy</p>

<ul>
<li>Raw Forecast = (Front contract price – Next contract price)/ distance between contract</li>
<li>Divide raw forecast by instrument-risk (volatility of instrument in price unit) to get a risk adjusted forecast.</li>
</ul></li>
</ul>

<ol>
<li><p>Rescale the signals in point 1 to obtain average absolute signal strength of 10 for each individual forecasts across time. Rescaling factor based on expanding window of median acoss all instruments.</p></li>

<li><p>Combine signals in point 2 across systems. Bootstrapping or block bootstrapping with expanding window is used to find the optimal weights (on in-sample or out-of sample data. Requires guidance on this). Cap the signal at -20 to +20.</p></li>

<li><p>With diversification, the combined signal in point 3 will bring down the average signal strength to below 10. A forecast diversification multiplier (FDM) is required to bring the signal to average of 10 again. FDM  = 1/[sqrt(W X H X Wtranspose)], where W is the forecast weights, H is the correlation matrix of forecast values in point 1</p></li>

<li><p>Position allocation is based on lookback exponential volatility of 25 trading days. May look into stratification by asset classes.</p></li>
</ol>

<ul>
<li>E.g. 25% volatility target on 1,000,000 portfolio would indicate annualized risk of 250,000 with daily risk of 250,000/16 = 15,625</li>
<li>If there are 4 assets classes, each asset class is allocated 3,906 of daily risk</li>

<li><p>If there are 4 instruments in each asset class. This would be approximately 977 dollars daily risk per instrument. Signal of +10 for an instrument would indicate 977 dollars of risk and +20 (strong positve forecasts) would indicate 1954 dollars of risk.</p></li>

<li><p>Entry and exit rules are based on continuous forecasts instead of binary entries and exits. i.e. strategy is dependent on the state of the forecasts</p></li>
</ul>

<h3 id="evaluation-of-strategies">Evaluation of strategies</h3>

<ol>
<li>Sharpe/ Sortino ratio</li>
<li>Calmar ratio/ Max drawdown</li>
<li>Beta/ Fama-French 3 factor analysis</li>
<li>Skew/ kurtosis of strategies</li>
</ol>

<h3 id="potential-challenges-and-require-further-deliberation-on-following-pointers">Potential challenges and require further deliberation on following pointers</h3>

<ol>
<li>Stitching of futures dataset.</li>
<li>When and how do we rollover in practice?</li>
<li>Is it essential to avoid front contracts? To avoid the ‘oil contract’ negative prices issue in early 2020?</li>
<li>Do we always remain in the contract with highest volume/ open interest?</li>
<li>How do we find optimal weights in 3.3 in practice</li>
<li>How do we use boostrapping properly to avoid in-sample bias?</li>
<li>In optimisation, do we usually optimize based on in-sample data or do we also consider the results in validation dataset? E.g. Sharpe ratio in in-sample data and validation dataset shouldn’t differ by x%. If so, is this difference filtered by the program. And would this run a risk of curve-fitting?</li>
</ol>

<h3 id="references">References</h3>

<ul>
<li>Hurst, Brian, Yao Hua Ooi, and Lasse Heje Pedersen. &ldquo;A century of evidence on trend-following investing.&ldquo; The Journal of Portfolio Management 44, no. 1 (2017): 15-29.</li>
<li>Moskowitz, Tobias J., Yao Hua Ooi, and Lasse Heje Pedersen. &ldquo;Time series momentum.&ldquo; Journal of financial economics 104, no. 2 (2012): 228-250.</li>
<li>Carver, Robert. Systematic Trading: A unique new method for designing trading and investing systems. Harriman House Limited, 2015.</li>
<li>Carver, Robert.Leveraged Trading. Harriman House Limited, 2019.</li>
</ul>

      </div>

      


<div class="article-tags">
  
  <a class="btn btn-primary btn-outline" href="/tags/framework">framework</a>
  
  <a class="btn btn-primary btn-outline" href="/tags/quant">quant</a>
  
  <a class="btn btn-primary btn-outline" href="/tags/investing">investing</a>
  
</div>



    </div>
  </div>

</article>



<div class="article-container article-widget">
  <div class="hr-light"></div>
  <h3>Related</h3>
  <ul>
    
    <li><a href="/post/framework-for-capital-allocation/">Framework for capital allocation</a></li>
    
    <li><a href="/post/volatility-targeting-could-potentially-increase-risk-adjusted-returns-for-any-quant-strategies/">Could volatility targeting increase risk-adjusted returns for quantitative strategies</a></li>
    
    <li><a href="/post/volatility-targeting/">Integrating volatility targeting into Jarvis, my expert advisor</a></li>
    
    <li><a href="/post/designing-and-deploying-a-fully-automated-algorithmic-trading-system/">Developing a performance monitoring component in my fully automated algorithmic trading system</a></li>
    
    <li><a href="/post/developing-an-accounting-and-performance-monitoring-system-for-my-algorithmic-trading-system/">Designing, Building and Deploying a Fully Automated Algorithmic Trading System</a></li>
    
  </ul>
</div>



<div class="container article-widget">
  <nav>
  <ul class="pager">
    
    <li class="previous"><a href="/post/designing-and-deploying-a-fully-automated-algorithmic-trading-system/"><span
      aria-hidden="true">&larr;</span> Developing a performance monitoring component in my fully automated algorithmic trading system</a></li>
    

    
    <li class="next"><a href="/post/test-github-gist/">Testing github gist <span
      aria-hidden="true">&rarr;</span></a></li>
    
  </ul>
</nav>

</div>


<div class="article-container">
  
<section id="comments">
  <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "jirong" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</section>


<div id="disqus_thread"></div>
<script>
(function() {
var d = document, s = d.createElement('script');
s.src = 'https://jironghuang.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

</div>

<footer class="site-footer">
  <div class="container">
    <p class="powered-by">

      &copy; 2018 &middot; 

      Powered by the
      <a href="https://sourcethemes.com/academic/" target="_blank" rel="noopener">Academic theme</a> for
      <a href="https://gohugo.io" target="_blank" rel="noopener">Hugo</a>.

      <span class="pull-right" aria-hidden="true">
        <a href="#" id="back_to_top">
          <span class="button_icon">
            <i class="fa fa-chevron-up fa-2x"></i>
          </span>
        </a>
      </span>

    </p>
  </div>
</footer>


<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close btn-large" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Cite</h4>
      </div>
      <div>
        <pre><code class="modal-body tex"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-primary btn-outline js-copy-cite" href="#" target="_blank">
          <i class="fa fa-copy"></i> Copy
        </a>
        <a class="btn btn-primary btn-outline js-download-cite" href="#" target="_blank">
          <i class="fa fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

    

    
    
    <script id="dsq-count-scr" src="//jirong.disqus.com/count.js" async></script>
    

    

    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js" integrity="sha512-3P8rXCuGJdNZOnUx/03c1jOTnMn3rP63nBip5gOP2qmUh5YAdVAvFZ1E+QLZZbC1rtMrQb+mah3AfYW11RUrWA==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.3/imagesloaded.pkgd.min.js" integrity="sha512-umsR78NN0D23AzgoZ11K7raBD+R6hqKojyBZs1w8WvYlsI+QuKRGBx3LFCwhatzBunCjDuJpDHwxD13sLMbpRA==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha512-iztkobsvnjKfAtTNdHkGVjAYTrrtlC7mGp/54c40wowO7LhURYl3gVzzcEqGl/qKXQltJ2HwMrdLcNUdo+N/RQ==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.4/isotope.pkgd.min.js" integrity="sha512-VDBOIlDbuC4VWxGJNmuFRQ0Li0SKkDpmGyuhAG5LTDLd/dJ/S0WMVxriR2Y+CyPL5gzjpN4f/6iqWVBJlht0tQ==" crossorigin="anonymous"></script>
    
    
    <script src="/js/hugo-academic.js"></script>
    

    
    
      
      
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js" integrity="sha256-/BfiIkHlHoVihZdc6TFuj7MmJ0TWcWsMXkeDFwhi0zw=" crossorigin="anonymous"></script>
      

      

      

      <script>hljs.initHighlightingOnLoad();</script>
    

    
    

  </body>
</html>

